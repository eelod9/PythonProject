(window.webpackJsonp=window.webpackJsonp||[]).push([[268],{2181:function(t,e,r){"use strict";r.r(e),r.d(e,"BrazeService",(function(){return z}));r(27),r(26),r(23),r(10),r(30),r(22),r(31);var n=r(5),o=r(8),c=r(9),l=r(4),O=r(1),f=r(2182),j=r(2184),v=r(2185),h=r(2173),y=r(2186),m=r(1897),d=r(2187),w=r(2188),k=r(2189),P=r(2174),C=r(2195);function U(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function E(){return function(t,e,r){var n=r.value;r.value=function(){if(this.initialized){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.apply(this,e)}}}}var z=function(){function t(e,r){Object(o.a)(this,t),this.sdkKey=e,this.sdkUrl=r,this.initialized=!1}return Object(c.a)(t,[{key:"initialize",value:function(t,e){try{if(!Object(f.a)(this.sdkKey,{baseUrl:this.sdkUrl,enableLogging:!1,allowUserSuppliedJavascript:!0}))return!1;Object(j.a)(t),this.configureInAppMessages(),Object(v.a)()&&Object(h.logCustomEvent)("webpush_opt_out",{platform:e}),Object(y.a)()}catch(e){return Object(O.t)(e,"Unable to access braze for customer: ".concat(t)),!1}return this.platform=e,this.initialized=!0,!0}},{key:"logCustomEvent",value:function(t,e){return Object(h.logCustomEvent)(t,function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?U(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):U(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({platform:this.platform},e))}},{key:"setCustomUserAttribute",value:function(t,e){var r=Object(m.a)();return!!r&&r.setCustomUserAttribute(t,e)}},{key:"configureInAppMessages",value:function(){Object(d.a)((function(t){var e=!0;"extras"in t&&("push-primer"===t.extras["msg-id"]&&((!Object(w.a)()||Object(k.a)()||Object(v.a)())&&(e=!1),"buttons"in t&&null!=t.buttons[1]&&t.buttons[1].subscribeToClickedEvent((function(){Object(P.requestPushPermission)()}))));e&&Object(C.a)(t)}))}}]),t}();Object(l.a)([E()],z.prototype,"logCustomEvent",null),Object(l.a)([E()],z.prototype,"setCustomUserAttribute",null)}}]);